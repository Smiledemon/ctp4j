package com.ctp.data.service;

import java.util.Set;

import com.ctp.data.OHLCDataItem;
import com.itqy8.ctp.enums.TimeUnits;

public interface OHLCDataService {
	
	/**
	 * 添加K线数据
	 * @param instrumentId 合约代码
	 * @param timeUnit K线时间区间
	 * @param subTimeUnit 子时间区间，通过子区间的数据计算K线数据
	 * @author meixinbin 2016-6-2 上午10:53:44
	 */
	public void addOHLCDataItem(String instrumentId,long now,TimeUnits timeUnit,TimeUnits subTimeUnit);
	
	/**
	 * 
	 * @param instrumentId
	 * @author meixinbin 2016-6-2 下午1:37:55
	 */
	public void addMiniUnitOHLCDataItem(String instrumentId,long now);
	
	/**
	 * 获取最新K线数据
	 * @param instrumentId
	 * @param timeUnit
	 * @param count
	 * @return
	 * @author meixinbin 2016-6-2 上午10:58:16
	 */
	public Set<OHLCDataItem> getOHLCDataList(String instrumentId,long now,TimeUnits timeUnit,int count);
	
	/**
	 * 获取K线数据
	 * @param instrumentId
	 * @param timeUnit
	 * @param startDate
	 * @param endDate
	 * @return
	 * @author meixinbin 2016-6-2 上午10:58:49
	 */
//	public List<OHLCDataItem> getOHLCDataList(String instrumentId,TimeUnits timeUnit,long startDate,long endDate);
	
	/**
	 * 获取最新的一条K线数据
	 * @param instrumentId
	 * @param timeUnit
	 * @param subTimeUnit
	 * @return
	 * @author meixinbin 2016-6-2 上午11:05:55
	 */
	public OHLCDataItem getOHLCData(String instrumentId,long now,TimeUnits timeUnit,TimeUnits subTimeUnit);
	
	public Set<OHLCDataItem> getOHLCDataList(String instrumentId, long now, TimeUnits timeUnit);
	
}
